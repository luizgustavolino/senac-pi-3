<html>
  <head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <script>
        
        var java = {};
        java.log = function(){ console.log; }
        java.getJARPath = function(path) { return path; }
        java.isNative = function() { return false; }
        
        function onPageLoad(){
            if(!java.isNative()){
                loadAllResources()
            }
        }
        
        function loadResource(path, type, callback){
            
            var head = document.head || document.getElementsByTagName('head')[0];
            
            switch(type){
                case "css":
                    var style       = document.createElement('link');
                    style.type      = 'text/css';
                    style.rel       = 'stylesheet';
                    style.href      = path + ".css";
                    style.onload    = callback;
                    head.appendChild(style);
                    java.log("loading ccs at " + style.href);
                    break;
                case "js":
                    var script      = document.createElement('script');
                    script.type     = 'text/javascript';
                    script.rel      = 'javascript';
                    script.src      = path + ".js";
                    script.onload   = callback; 
                    head.appendChild(script);
                    java.log("loading js at " + path);
                    break;
            }
        }
        
        function loadAllResources(){
            loadResource(java.getJARPath("interface"), "css", function(){
            loadResource(java.getJARPath("MapStyle"), "js", function(){
            loadResource(java.getJARPath("handlebars"), "js", function(){
            loadResource(java.getJARPath("Cerulean"), "js", function(){
                cerulean.nav.setRootController("main-menu", {})
            });});});});
        }
        
    </script>
  </head>
  <body id="body" onload="onPageLoad()">
    <div id="map"></div>
    <div id ="menu">
      <div id="menu-content"/>
    </div>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCVBdqZrrlivwdMFGWhXd_fjJ-8XFlkAHU"
    async defer></script>
  </body>
</html>